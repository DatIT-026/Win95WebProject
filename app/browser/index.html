<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <title>Google</title>
</head>

<body>
  <div class="container">
    <div class="main">
      <div class="logo">
        <img src="./img/google-logo.jpg" alt="logo" id="main-logo">
      </div>
      <p>Search the web using Google!</p>
      
      <input type="text" name="search-bar" size="40">
      
      <section>
        <br>
        <input type="submit" value="Google Search" onclick="checkEasterEgg();">
        <a href="#" onclick="startSnow(event)"><input type="submit" value="Merry Christmas"></a>
      </section>
    </div>
    <div class="bottom">
      <div class="box">
        <p>Special Searches:</p>
        <ul>
          <li><a href="https://datit-026.github.io/fumo/">The Fumos</a></li>
          <li><a href="https://datit-026.github.io/Jper/">JapGame</a></li>
        </ul>
      </div>
      <div class="box">
        <ul>
          <li><a href="https://datit-026.github.io/Win95WebProject/README.md">Help</a></li>
          <li><a href="https://dattos-archive.click/about/">About</a></li>
          <li><a href="#" onclick="showNotification();">Company</a></li>
          <li><a href="https://datit-026.github.io/Win95WebProject/app/browser/img/google-logo.jpg">Logos</a></li>
        </ul>
      </div>
      <div class="box">
        <p>Get Updates:</p>
        <ul>
          <li><input type="text" placeholder="your e-mail"></li>
          <li>
            <a href="https://datit-026.github.io/dattos-archive/"><input type="submit" value="Subscribe"></a>
            <a href="https://datit-026.github.io/ChristmasWinds/">&nbsp Archive</a>
          </li>
        </ul>
      </div>
    </div>
    <p id="notification" class="hidden">Please update your browser to use this feature</p>
  </div>

  <script>
    const showNotification = (msg) => {
      const notification = document.getElementById('notification');
      if (notification) {
        if(msg) notification.innerText = msg;
        notification.style.display = 'block';
        
        setTimeout(() => {
          notification.style.display = 'none';
        }, 3000);
      }
    };

    const createHintButton = () => {
      const btn = document.createElement('div');
      btn.innerHTML = 'ðŸ’¡';
      btn.title = "Click for a Hint";
      
      Object.assign(btn.style, {
        position: 'fixed',
        bottom: '20px',
        right: '20px',
        width: '40px',
        height: '40px',
        fontSize: '24px',
        lineHeight: '36px',
        textAlign: 'center',
        background: 'silver', 
        borderTop: '2px solid #FFFFFF',
        borderLeft: '2px solid #FFFFFF',
        borderRight: '2px solid #808080',
        borderBottom: '2px solid #808080',
        boxShadow: '1px 1px 0px #000000',
        borderRadius: '0',
        cursor: 'pointer',
        zIndex: '10001',
        userSelect: 'none',
        boxSizing: 'border-box' 
      });

      btn.onmousedown = () => {
          btn.style.borderTop = '2px solid #808080';
          btn.style.borderLeft = '2px solid #808080';
          btn.style.borderRight = '2px solid #FFFFFF';
          btn.style.borderBottom = '2px solid #FFFFFF';
          btn.style.paddingTop = '2px';
          btn.style.paddingLeft = '2px';
      };
      btn.onmouseup = () => {
          btn.style.borderTop = '2px solid #FFFFFF';
          btn.style.borderLeft = '2px solid #FFFFFF';
          btn.style.borderRight = '2px solid #808080';
          btn.style.borderBottom = '2px solid #808080';
          btn.style.paddingTop = '0';
          btn.style.paddingLeft = '0';
      };
      
      btn.onclick = () => {
        const isMobile = window.innerWidth < 570;

        if (isMobile) {
          showNotification("ðŸ’¡ HINT: Ehh... something went wrong?\nMaybe u should try F12 then Console on Desktop");
        } else {
          showNotification("ðŸ’¡ HINT: Try F12 then Console >_");
        }
      };

      document.body.appendChild(btn);
    };

    window.onload = () => {
      const notification = document.getElementById('notification');
      if (notification) notification.style.display = 'none';
      
      try { 
        console.clear(); 
        console.log("\n%cðŸŽ„ HINT: Santa is watching...\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ What the heck is going on here?\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ Oh yeah! Try searching for 'Santa' or 'Noel'.\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ HINT: Try searching for 'Santa' or 'Noel' ðŸŽ…\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ HINT: Try searching for 'Santa' or 'Noel' ðŸŽ…\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ HINT: Try searching for 'Santa' or 'Noel' ðŸŽ…\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ HINT: Try searching for 'Santa' or 'Noel' ðŸŽ…\n", "color: red; font-size: 14px; font-weight: bold;");
        console.log("\n%cðŸŽ„ HINT: Try searching for 'Santa' or 'Noel' ðŸŽ…\n", "color: red; font-size: 14px; font-weight: bold;");
      } catch(e) {}
      
      createHintButton();
    };

    let snowInterval = null;

    const createSnow = () => {
      const snowflake = document.createElement('div');
      snowflake.innerHTML = 'â„'; 
      snowflake.classList.add('snowflake');
      snowflake.style.left = Math.random() * 100 + 'vw';
      
      snowflake.style.animationDuration = Math.random() * 3 + 4 + 's'; 
      snowflake.style.opacity = Math.random();
      
      snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';
      
      document.body.appendChild(snowflake);
      
      setTimeout(() => snowflake.remove(), 7000);
    };

    const startSnow = (e) => {
      if(e) e.preventDefault();

      if (snowInterval) {
        clearInterval(snowInterval);
        snowInterval = null;
        
        document.querySelectorAll('.snowflake').forEach(el => el.remove());
        
        showNotification("ðŸš« Snow stopped!");
      } else {
        snowInterval = setInterval(createSnow, 400); 
        showNotification("â„ï¸ Let it snow! â„ï¸");
      }
    };

    const checkEasterEgg = () => {
      const input = document.querySelector('input[name="search-bar"]');
      const value = input.value.toLowerCase().trim();
      const logo = document.getElementById('main-logo');

      if (value === "santa" || value === "christmas" || value === "noel" || value === "giang sinh") {
        document.body.classList.toggle('christmas-mode');
        
        if (document.body.classList.contains('christmas-mode')) {
          logo.src = "./img/santa.jpg"; 
          showNotification("ðŸŽ… Ho Ho Ho! Merry Christmas!");
          summonSanta(); 
        } else {
          logo.src = "./img/google-logo.jpg";
          showNotification("Back to normal mode.");
        }
      } else {}
    };

    const summonSanta = () => {
      const existingSanta = document.querySelector('.santa-sleigh');
      if(existingSanta) existingSanta.remove();
      const santa = document.createElement('div');
      santa.innerHTML = 'ðŸ¦ŒðŸŽ…ðŸ›·ðŸ’¨'; 
      santa.classList.add('santa-sleigh');
      document.body.appendChild(santa);
      setTimeout(() => santa.remove(), 6000);
    }

    try {
      const getParentInput = () => window.parent?.document?.getElementById('url-input');
      const initInput = getParentInput();
      if (initInput) initInput.value = "http://www.google.com/";
      document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', (e) => {
          if(e.currentTarget.innerHTML.includes("Merry Christmas")) return;
          const targetUrl = e.currentTarget.href;
          const parentInput = getParentInput();
          if (parentInput) {
            if (targetUrl.includes("ChristmasWinds")) {
              parentInput.value = "http://christmaswinds.com/";
            } else if (targetUrl && targetUrl !== "#" && !targetUrl.startsWith("javascript")) {
              parentInput.value = targetUrl;
            }
          }
        });
      });
    } catch (e) {}
</script>
</body>

</html>